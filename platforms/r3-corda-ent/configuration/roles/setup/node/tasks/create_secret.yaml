- name: Create cenm-certs secret in manufacturer-ent namespace
  community.kubernetes.k8s:
    state: present
    definition:
      apiVersion: v1
      kind: Secret
      metadata:
        name: cenm-certs
        namespace: "{{ component_ns }}"
    merge_type: strategic
    merge_path: metadata.name
    merge_key: name
    data:
      network-root-truststore.jks: "{{ cenm_certs_secret.resources[0].data['network-root-truststore.jks'] }}"

- name: Create doorman-tls-certs secret in manufacturer-ent namespace
  community.kubernetes.k8s:
    state: present
    definition:
      apiVersion: v1
      kind: Secret
      metadata:
        name: doorman-tls-certs
        namespace: "{{ component_ns }}"
    merge_type: strategic
    merge_path: metadata.name
    merge_key: name
    data:
      tls.crt: "{{ doorman_tls_certs_secret.resources[0].data['tls.crt'] }}"

- name: Create nms-tls-certs secret in manufacturer-ent namespace
  community.kubernetes.k8s:
    state: present
    definition:
      apiVersion: v1
      kind: Secret
      metadata:
        name: nms-tls-certs
        namespace: "{{ component_ns }}"
    merge_type: strategic
    merge_path: metadata.name
    merge_key: name
    data:
      tls.crt: "{{ nms_tls_certs_secret.resources[0].data['tls.crt'] }}"